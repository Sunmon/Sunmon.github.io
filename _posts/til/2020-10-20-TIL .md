---
layout: post
title: 2020-10-20 TIL
subtitle: 10ì›” 20ì¼, Today I Learned
description: 
tags:
  - javascript
  - event
  - error
  - vue
  - pointer
---

<p class="callout">ğŸ’¡ 10ì›” 20ì¼ TIL </p>

ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ :
1. mousedown/mouseupì€ ë¬´ìŠ¨ ë²„íŠ¼ì¸ì§€ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•œë‹¤.
2. vueë‚´ì— ì‘ì„±í•œ í•¨ìˆ˜ëŠ” v-onìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
3. ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œë¥¼ ë³€ê²½í•  ë•ŒëŠ” ì¸ë±ìŠ¤(\[])ë§ê³  `vue.set` ë©”ì†Œë“œ ì´ìš©
4. í¬ì¸í„°ê°€ í•„ìš”í•˜ë©´ ê°ì²´ë¥¼ ì“´ë‹¤


## mouse event
mousedown/upì€ í•´ë‹¹ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ë§ˆìš°ìŠ¤ì˜ ì–´ë–¤ ë²„íŠ¼ì„ ì¡°ì‘í–ˆëŠ”ì§€ ëª…ì‹œí•´ì£¼ì–´ì•¼í•œë‹¤. (ì™¼ìª½,ì˜¤ë¥¸ìª½,ê°€ìš´ë°...) `event.button`ì„ ì´ìš©í•œë‹¤.

ë¹„ìŠ·í•œ ê¸°ëŠ¥ì˜ `event.which`ëŠ” ì´ì œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

## vue ë‚´ì— ì‘ì„±í•œ í•¨ìˆ˜
v-on:click="func" //()ì—†ìŒ\
ì´ë ‡ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

vueì•ˆì— ì‘ì„±í•˜ê³  htmlìƒì—ì„  ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´? HTML docuì— funcë¼ëŠ” í•¨ìˆ˜ê°€ ì—†ë‹¤ë©° ì—ëŸ¬ê°€ ëœ¬ë‹¤.\
ë°˜ëŒ€ë„ ë§ˆì°¬ê°€ì§€ë‹¤. ë°”ê¹¥ì—ì„œ ì‘ì„±í•œ í•¨ìˆ˜ëŠ” `v-on`ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ì—†ë‹¤.

```html
<input onclick="func">...
```


## colorpicker ì˜ˆì œ

ì˜ˆì œë¥¼ ì‘ì„±í•´ë³´ì•˜ë‹¤: colorpickerì—ì„œ ìƒ‰ìƒì„ ê³ ë¥´ë©´\
1. divì˜ ë°±ê·¸ë¼ìš´ë“œ ìƒ‰ê¹”ì´ ë³€í•˜ê³ 
2. divì˜ ê¸€ì ìƒ‰ìƒì€ ë°±ê·¸ë¼ìš´ë“œì˜ ë°˜ëŒ€ë¡œ ì„¤ì •

```html
<input type="color" v-model="styleObject.backgroundColor" v-on:input="changeTextColor">
```

```js
//vueì•ˆì—
changeColor(){
  let bg = this.styleObject.backgroundColor.slice(1);
  let text = 0xffffff-parseInt(bgColor,16);
  this.styleObject.color='#'+textColor.toString(16);
}
```

## Vue.set ë©”ì†Œë“œ ì´ìš©

ì•„ë˜ì²˜ëŸ¼ ë°°ì—´ë¡œ ì ‘ê·¼í•´ì„œ ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš°, vueëŠ” ë°°ì—´ ìš”ì†Œ ë³€ê²½ì„ ê°ì§€í•˜ì§€ ëª»í•œë‹¤.

```js
this.list[0] = { id: 1, name: 'ë©”ë¡±'}
```

ëŒ€ì‹  `Vue.set`ì„ ì´ìš©í•œë‹¤. (`this.$set`ìœ¼ë¡œ ì‚¬ìš©í•´ë„ ëœë‹¤)

```js
//param: ë³€ê²½í•  ë°ì´í„°, ì¸ë±ìŠ¤ or í‚¤, ìƒˆë¡œìš´ ê°’
this.$set(this.list 0, {id: 1, name:'ë©”ë¡±'});
```
ì´ ë©”ì†Œë“œëŠ” ì†ì„±ì„ ì¶”ê°€í• ë•Œë„ ì‚¬ìš©í•œë‹¤.


## í¬ì¸í„°ê°€ í•„ìš”í• ë•Œ
jsì—ëŠ” í¬ì¸í„°ê°€ ì—†ë‹¤. call by valueì™€ call by referenceë§Œ ìˆì„ë¿...\
ê°ì²´ëŠ” call by refë‹ˆê¹Œ í¬ì¸í„°ê°€ í•„ìš”í• ë• ê°ì²´ë¥¼ ë„˜ê¸°ì. ë°°ì—´ë„ ê°ì²´ë‹¤!

```js
let person = {
  bag: ['pen', 'cup', 'money', 'card', 'note'],
  age: 10,
  name: 'Ann'
};

let packing = function(){
  let list = person.bag;
  let p = person;

  //shiftëŠ” ë°°ì—´ì„ ë°”ê¿”ë²„ë¦°ë‹¤.
  list.shift(); //person.bag ë³€ê²½
  p.bag.shift();  //person.bag ë³€ê²½

  console.log('after shift:');
  console.log(`list: ${JSON.stringify(list)}`); //
  console.log(`p.bag: ${JSON.stringify(p.bag)}`);
  console.log(`person.bag: ${JSON.stringify(person.bag)}`);

  //pushë„ ë°°ì—´ì„ ë°”ê¾¼ë‹¤.
  list.push('pencil');  //person.bagë³€ê²½
  p.bag.push('netbook');  //person.bagë³€ê²½
  console.log('\nafter push');
  console.log(`list: ${JSON.stringify(list)}`);
  console.log(`p.bag: ${JSON.stringify(p.bag)}`);
  console.log(`person.bag: ${JSON.stringify(person.bag)}`);

  

  console.log(`list===person.bag: ${list===person.bag}`);
  console.log(`list===p.bag: ${list===p.bag}`);
  console.log(`p.bag===person.bag: ${p.bag===person.bag}`);


  //filterëŠ” ì‚¬ë³¸ì„ ë°˜í™˜í•œë‹¤. 
  list = list.filter(el=>el[0]=='n'); //person.bag ë³€ê²½ x
  list = list.(el=>el[0]=='n'); //person.bag ë³€ê²½ x
  p.bag = p.bag.filter(el=>el[1]=='o'); //person.bag: ë³€ê²½
  console.log('\nafter filter');
  console.log(`list: ${JSON.stringify(list)}`);
  console.log(`p.bag: ${JSON.stringify(p.bag)}`);ã„´
  console.log(`person.bag: ${JSON.stringify(person.bag)}`);
  
  console.log(`list===person.bag: ${list===person.bag}`);
  console.log(`list===p.bag: ${list===p.bag}`);
  console.log(`p.bag===person.bag: ${p.bag===person.bag}`);
}
```

ìœ„ ì˜ˆì œì˜ `filter` ê²°ê³¼ëŠ” listì™€ person.bagì´ ë‹¤ë¥´ê²Œ ë‚˜ì˜¨ë‹¤. ì™œëƒí•˜ë©´ listì— ìƒˆë¡œìš´ ë°°ì—´ì„ í• ë‹¹í•œê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.\
`list = [1,2,3,4,5]`ë¡œ ìƒˆë¡œ ì €ì¥í–ˆì„ ë•Œì²˜ëŸ¼, listì™€ person.bagì˜ ì—°ê²°ì´ ëŠì–´ì§„ê²ƒì´ë‹¤.\
ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜ëŠ” ê·¸ ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ë¿ì´ë‹¤. ê°ì²´ ìì²´ê°€ ì•„ë‹˜ì„ ìœ ì˜í•˜ì!


## ì°¸ê³ 

- ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŠœí† ë¦¬ì–¼:mouseEvent <conservative-vector.tistory.com>
- input type="color" <https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color>
- ê³ ì–‘ì´ë„ í• ìˆ˜ìˆëŠ” vue.js Chapter 2
